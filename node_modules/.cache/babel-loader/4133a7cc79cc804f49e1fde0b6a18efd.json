{"ast":null,"code":"import _slicedToArray from \"/Users/andreja/Desktop/Projekti/Reminders/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andreja/Desktop/Projekti/Reminders/src/components/Lists/ListModal.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { DialogTitle, DialogContent, Dialog, Button, Slide, TextField, Icon, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actionTypes from \"../../store/actions/actionTypes/lists\";\nimport IconPicker from \"../UI/IconPicker/IconPicker\";\nimport { withRouter } from \"react-router\";\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      width: 200\n    }\n  },\n  modalContainer: {\n    \" & > div > div\": {\n      width: \"100%\",\n      margin: 20\n    }\n  },\n  selectContainer: {\n    width: \"100%\",\n    margin: \"10px 0\"\n  },\n  pickedIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: 10,\n    \"& > span\": {\n      marginLeft: 8\n    }\n  },\n  buttons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    \"& > button\": {\n      color: \"#344955\"\n    }\n  },\n  form: {\n    \"& > div\": {\n      margin: \"10px 0\"\n    },\n    \"& > div:nth-child(2)\": {\n      \"& > div > button > div > div\": {\n        backgroundColor: \"#344955\"\n      }\n    }\n  },\n  dialogTitle: {\n    backgroundColor: \"#344955\",\n    color: \"#FFFFFF\"\n  }\n}));\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }));\n});\n\nconst AddNewList = props => {\n  const classes = useStyles();\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        pickedIcon = _useState2[0],\n        setpickedIcon = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        name = _useState4[0],\n        setName = _useState4[1];\n\n  const dispatch = useDispatch();\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isIconPickerOpen = _useState6[0],\n        setIsIconPickerOpen = _useState6[1];\n\n  const _useState7 = useState(\"Create new list\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        title = _useState8[0],\n        setTitle = _useState8[1];\n\n  const handleAddListModal = props.handleAddListModal,\n        open = props.open,\n        list = props.list;\n  const user = useSelector(state => state.root.user);\n  const order = useSelector(state => state.lists.lastListNumber);\n  useEffect(() => {\n    setpickedIcon(\"\");\n    return () => resetToDefaultValue();\n  }, [open]);\n  useEffect(() => {\n    if (list) {\n      setName(list.value.name);\n      setpickedIcon(list.value.icon);\n      setTitle(\"Edit list\");\n    }\n\n    return () => resetToDefaultValue();\n  }, [list]);\n\n  const resetToDefaultValue = () => {\n    setName(\"\");\n    setpickedIcon(\"\");\n    setTitle(\"Create new list\");\n  };\n\n  const handlePickIcon = icon => {\n    setpickedIcon(icon);\n  };\n\n  const handleIconPickerModal = isOpen => () => {\n    setIsIconPickerOpen(isOpen);\n  };\n\n  const formatName = name => {\n    if (name) {\n      if (typeof name !== \"string\") return \"\";\n      return name.charAt(0).toUpperCase() + name.slice(1);\n    }\n  };\n\n  const handleName = event => {\n    setName(event.target.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (!list) {\n      let orderNumber = order;\n      let newList = {\n        name: formatName(name),\n        icon: pickedIcon,\n        order: ++orderNumber,\n        reminders: []\n      };\n\n      if (newList.icon && newList.name) {\n        dispatch({\n          type: actionTypes.ADD_LIST,\n          payload: {\n            body: newList,\n            userId: user.uid\n          }\n        });\n      }\n    } else {\n      let newList = {\n        name: formatName(name),\n        icon: pickedIcon,\n        order: list.value.order,\n        reminders: list.value.reminders\n      };\n\n      if (newList.icon && newList.name) {\n        dispatch({\n          type: actionTypes.EDIT_LIST,\n          payload: {\n            listId: list.id,\n            body: newList,\n            userId: user.uid\n          }\n        });\n        props.history.push(\"/\");\n      }\n    }\n\n    handleAddListModal(false)();\n  };\n\n  const renderButtonName = list ? \"Edit\" : \"Add\";\n  const renderPickedIcon = pickedIcon ? React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"p\",\n    className: classes.pickedIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"You picked: \", React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, pickedIcon)) : null;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    open: open,\n    TransitionComponent: Transition,\n    keepMounted: true,\n    onClose: handleAddListModal(false),\n    className: classes.modalContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    className: classes.dialogTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"p\",\n    className: classes.pickedIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, title)), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    className: classes.form,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    type: \"text\",\n    placeholder: \"Name\",\n    label: \"Name\",\n    variant: \"outlined\",\n    fullWidth: true,\n    onChange: handleName,\n    value: name,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: handleIconPickerModal(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"Pick Icon\"), renderPickedIcon, React.createElement(\"div\", {\n    className: classes.buttons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, renderButtonName), React.createElement(Button, {\n    onClick: handleAddListModal(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"Cancel\")))), React.createElement(IconPicker, {\n    open: isIconPickerOpen,\n    handleIconPickerModal: handleIconPickerModal,\n    handlePickIcon: handlePickIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  })));\n};\n\nexport default withRouter(AddNewList);","map":{"version":3,"sources":["/Users/andreja/Desktop/Projekti/Reminders/src/components/Lists/ListModal.js"],"names":["React","useState","useEffect","DialogTitle","DialogContent","Dialog","Button","Slide","TextField","Icon","Typography","makeStyles","useDispatch","useSelector","actionTypes","IconPicker","withRouter","useStyles","theme","textField","marginLeft","spacing","marginRight","width","modalContainer","margin","selectContainer","pickedIcon","display","alignItems","marginTop","buttons","justifyContent","color","form","backgroundColor","dialogTitle","Transition","forwardRef","props","ref","AddNewList","classes","setpickedIcon","name","setName","dispatch","isIconPickerOpen","setIsIconPickerOpen","title","setTitle","handleAddListModal","open","list","user","state","root","order","lists","lastListNumber","resetToDefaultValue","value","icon","handlePickIcon","handleIconPickerModal","isOpen","formatName","charAt","toUpperCase","slice","handleName","event","target","onSubmit","e","preventDefault","orderNumber","newList","reminders","type","ADD_LIST","payload","body","userId","uid","EDIT_LIST","listId","id","history","push","renderButtonName","renderPickedIcon"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  DialogTitle,\n  DialogContent,\n  Dialog,\n  Button,\n  Slide,\n  TextField,\n  Icon,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actionTypes from \"../../store/actions/actionTypes/lists\";\nimport IconPicker from \"../UI/IconPicker/IconPicker\";\nimport { withRouter } from \"react-router\";\n\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      width: 200\n    }\n  },\n  modalContainer: {\n    \" & > div > div\": {\n      width: \"100%\",\n      margin: 20\n    }\n  },\n  selectContainer: {\n    width: \"100%\",\n    margin: \"10px 0\"\n  },\n  pickedIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: 10,\n    \"& > span\": {\n      marginLeft: 8\n    }\n  },\n  buttons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    \"& > button\": {\n      color: \"#344955\"\n    }\n  },\n  form: {\n    \"& > div\": {\n      margin: \"10px 0\"\n    },\n    \"& > div:nth-child(2)\": {\n      \"& > div > button > div > div\": {\n        backgroundColor: \"#344955\"\n      }\n    }\n  },\n  dialogTitle: {\n    backgroundColor: \"#344955\",\n    color: \"#FFFFFF\"\n  }\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst AddNewList = props => {\n  const classes = useStyles();\n  const [pickedIcon, setpickedIcon] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const dispatch = useDispatch();\n  const [isIconPickerOpen, setIsIconPickerOpen] = useState(false);\n  const [title,setTitle] = useState(\"Create new list\");\n  const { handleAddListModal, open, list } = props;\n  const user = useSelector(state => state.root.user);\n  const order = useSelector(state => state.lists.lastListNumber);\n\n  useEffect(() => {\n    setpickedIcon(\"\");\n    return () => resetToDefaultValue();\n  }, [open]);\n\n  useEffect(() => {\n    if (list) {\n      setName(list.value.name);\n      setpickedIcon(list.value.icon);\n      setTitle(\"Edit list\");\n    }\n    return () => resetToDefaultValue();\n  }, [list]);\n\n  const resetToDefaultValue = () => {\n    setName(\"\");\n    setpickedIcon(\"\");\n    setTitle(\"Create new list\");\n  };\n  const handlePickIcon = icon => {\n    setpickedIcon(icon);\n  };\n  const handleIconPickerModal = isOpen => () => {\n    setIsIconPickerOpen(isOpen);\n  };\n\n  const formatName = name => {\n    if (name) {\n      if (typeof name !== \"string\") return \"\";\n      return name.charAt(0).toUpperCase() + name.slice(1);\n    }\n  };\n  const handleName = event => {\n    setName(event.target.value);\n  };\n  const onSubmit = e => {\n    e.preventDefault();\n    if (!list) {\n      let orderNumber = order;\n      let newList = {\n        name: formatName(name),\n        icon: pickedIcon,\n        order: ++orderNumber,\n        reminders: []\n      };\n      if (newList.icon && newList.name) {\n        dispatch({\n          type: actionTypes.ADD_LIST,\n          payload: {\n            body: newList,\n            userId: user.uid\n          }\n        });\n      }\n    } else {\n      let newList = {\n        name: formatName(name),\n        icon: pickedIcon,\n        order: list.value.order,\n        reminders: list.value.reminders\n      };\n      if (newList.icon && newList.name) {\n        dispatch({\n          type: actionTypes.EDIT_LIST,\n          payload: {\n            listId: list.id,\n            body: newList,\n            userId: user.uid\n          }\n        });\n        props.history.push(\"/\");\n      }\n    }\n    handleAddListModal(false)();\n  };\n  const renderButtonName = list ? \"Edit\" : \"Add\";\n  const renderPickedIcon = pickedIcon ? (\n    <Typography\n      gutterBottom\n      variant=\"h5\"\n      component=\"p\"\n      className={classes.pickedIcon}\n    >\n      You picked: <Icon>{pickedIcon}</Icon>\n    </Typography>\n  ) : null;\n  return (\n    <div>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleAddListModal(false)}\n        className={classes.modalContainer}\n      >\n        <DialogTitle className={classes.dialogTitle}>\n          <Typography\n            gutterBottom\n            variant=\"h5\"\n            component=\"p\"\n            className={classes.pickedIcon}\n          >\n            {title}\n          </Typography>\n        </DialogTitle>\n        <DialogContent>\n          <form onSubmit={onSubmit} className={classes.form}>\n            <TextField\n              type=\"text\"\n              placeholder=\"Name\"\n              label=\"Name\"\n              variant=\"outlined\"\n              fullWidth\n              onChange={handleName}\n              value={name}\n              required\n            />\n            <Button onClick={handleIconPickerModal(true)}>Pick Icon</Button>\n            {renderPickedIcon}\n            <div className={classes.buttons}>\n              <Button type=\"submit\">{renderButtonName}</Button>\n              <Button onClick={handleAddListModal(false)}>Cancel</Button>\n            </div>\n          </form>\n        </DialogContent>\n        <IconPicker\n          open={isIconPickerOpen}\n          handleIconPickerModal={handleIconPickerModal}\n          handlePickIcon={handlePickIcon}\n        />\n      </Dialog>\n    </div>\n  );\n};\n\nexport default withRouter(AddNewList);\n"]},"metadata":{},"sourceType":"module"}