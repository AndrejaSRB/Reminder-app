{"ast":null,"code":"import _slicedToArray from \"/Users/andreja/Desktop/Projekti/Reminders/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andreja/Desktop/Projekti/Reminders/src/components/Authentication/Registration/Registration.js\";\nimport React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport fire from \"../../../config\";\nimport { Link } from \"react-router-dom\";\nimport Paper from \"@material-ui/core/Paper\";\nimport logo from \"../../../assets/reminder-logo.png\";\nimport { withRouter } from \"react-router\";\nimport Icon from \"@material-ui/core/Icon\";\nimport { Form } from \"react-final-form\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport { validateEmail, validateUserName, validatePassword } from \"../validation\";\nimport CustomField from \"../../UI/CustomField\";\nconst useStyles = makeStyles(theme => ({\n  \"@global\": {\n    body: {\n      backgroundColor: theme.palette.common.white\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: 20,\n    width: 300,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 350\n    }\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: \"#F9AA33\",\n    padding: 5,\n    width: 70,\n    height: 70,\n    \"& > img\": {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  },\n  background: {\n    display: \"flex\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 20,\n    backgroundColor: \"#344955\"\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n    \"& > div\": {\n      margin: \"5px 0\"\n    }\n  },\n  submit: {\n    textDecoration: \"none\",\n    backgroundColor: \"#344955\",\n    color: \"#FFFFFF\",\n    textTransform: \"uppercase\",\n    fontSize: 14,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    margin: \"10px 0\",\n    padding: \"0\",\n    \"& > span > div\": {\n      marginRight: \"auto\"\n    }\n  },\n  buttonIcon: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: \"22px 20px\",\n    backgroundColor: \"#F9AA33\",\n    color: \"#232F34\",\n    position: \"relative\",\n    overflow: \"visible\",\n    marginRight: \"auto\",\n    \"&:after\": {\n      content: \"''\",\n      position: \"absolute\",\n      right: -18,\n      top: \"50%\",\n      width: 0,\n      height: 0,\n      borderLeft: \"12px solid #F9AA33\",\n      borderBottom: \"12px solid transparent\",\n      borderTop: \"12px solid transparent\",\n      transform: \"translate(-50%, -50%)\"\n    }\n  },\n  additionalLink: {\n    color: \"#000000\",\n    textDecoration: \"none\",\n    cursor: \"pointer\",\n    margin: \"5px 0\"\n  },\n  textField: {\n    width: \"100%\",\n    margin: \"5px 0\"\n  },\n  errorMessage: {\n    color: \"#d62020\"\n  }\n}));\n\nconst Registration = props => {\n  const classes = useStyles();\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        errorMessage = _useState2[0],\n        setErrorMessage = _useState2[1];\n\n  const renderErrorMessage = errorMessage ? React.createElement(FormHelperText, {\n    className: classes.errorMessage,\n    margin: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, errorMessage) : null;\n\n  const onSubmit = async values => {\n    fire.auth().createUserWithEmailAndPassword(values.email, values.password).then(user => {\n      localStorage.setItem(\"id\", user.uid);\n      let currentUser = fire.auth().currentUser;\n      currentUser.updateProfile({\n        displayName: values.userName\n      });\n    }).then(() => {\n      props.history.push(\"/\");\n    }).catch(error => setErrorMessage(error.message));\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.background,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: logo,\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  })), React.createElement(Form, {\n    onSubmit: onSubmit,\n    validate: values => {\n      const errors = {};\n\n      if (!values.confirm) {\n        errors.confirm = \"Password is required\";\n      } else if (values.confirm !== values.password) {\n        errors.confirm = \"Password's must match\";\n      }\n\n      return errors;\n    },\n    render: ({\n      handleSubmit\n    }) => React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      className: classes.form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(CustomField, {\n      validation: validateUserName,\n      type: \"text\",\n      placeholder: \"Username\",\n      label: \"Username\",\n      variant: \"outlined\",\n      fullWidth: true,\n      name: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(CustomField, {\n      validation: validateEmail,\n      type: \"text\",\n      placeholder: \"E-mail\",\n      label: \"E-mail\",\n      variant: \"outlined\",\n      fullWidth: true,\n      name: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(CustomField, {\n      validation: validatePassword,\n      type: \"password\",\n      placeholder: \"Password\",\n      label: \"Password\",\n      variant: \"outlined\",\n      fullWidth: true,\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(CustomField, {\n      validation: validatePassword,\n      type: \"password\",\n      placeholder: \"Confirm password\",\n      label: \"Confirm password\",\n      variant: \"outlined\",\n      fullWidth: true,\n      name: \"confirm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      className: classes.submit,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: classes.buttonIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"exit_to_app\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Sign up\")), renderErrorMessage)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/login\",\n    className: classes.additionalLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, \"You have an account? Let's login.\")))));\n};\n\nexport default withRouter(Registration);","map":{"version":3,"sources":["/Users/andreja/Desktop/Projekti/Reminders/src/components/Authentication/Registration/Registration.js"],"names":["React","useState","Avatar","Button","makeStyles","fire","Link","Paper","logo","withRouter","Icon","Form","FormHelperText","validateEmail","validateUserName","validatePassword","CustomField","useStyles","theme","body","backgroundColor","palette","common","white","container","display","flexDirection","alignItems","padding","width","breakpoints","up","avatar","margin","spacing","height","background","justifyContent","paper","form","marginTop","submit","textDecoration","color","textTransform","fontSize","marginRight","buttonIcon","position","overflow","content","right","top","borderLeft","borderBottom","borderTop","transform","additionalLink","cursor","textField","errorMessage","Registration","props","classes","setErrorMessage","renderErrorMessage","onSubmit","values","auth","createUserWithEmailAndPassword","email","password","then","user","localStorage","setItem","uid","currentUser","updateProfile","displayName","userName","history","push","catch","error","message","errors","confirm","handleSubmit"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport fire from \"../../../config\";\nimport { Link } from \"react-router-dom\";\nimport Paper from \"@material-ui/core/Paper\";\nimport logo from \"../../../assets/reminder-logo.png\";\nimport { withRouter } from \"react-router\";\nimport Icon from \"@material-ui/core/Icon\";\nimport { Form } from \"react-final-form\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport {\n  validateEmail,\n  validateUserName,\n  validatePassword\n} from \"../validation\";\nimport CustomField from \"../../UI/CustomField\";\n\nconst useStyles = makeStyles(theme => ({\n  \"@global\": {\n    body: {\n      backgroundColor: theme.palette.common.white\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: 20,\n    width: 300,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 350\n    }\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: \"#F9AA33\",\n    padding: 5,\n    width: 70,\n    height: 70,\n    \"& > img\": {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  },\n  background: {\n    display: \"flex\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 20,\n    backgroundColor: \"#344955\"\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n    \"& > div\": {\n      margin: \"5px 0\"\n    }\n  },\n  submit: {\n    textDecoration: \"none\",\n    backgroundColor: \"#344955\",\n    color: \"#FFFFFF\",\n    textTransform: \"uppercase\",\n    fontSize: 14,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    margin: \"10px 0\",\n    padding: \"0\",\n    \"& > span > div\": {\n      marginRight: \"auto\"\n    }\n  },\n  buttonIcon: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: \"22px 20px\",\n    backgroundColor: \"#F9AA33\",\n    color: \"#232F34\",\n    position: \"relative\",\n    overflow: \"visible\",\n    marginRight: \"auto\",\n    \"&:after\": {\n      content: \"''\",\n      position: \"absolute\",\n      right: -18,\n      top: \"50%\",\n      width: 0,\n      height: 0,\n      borderLeft: \"12px solid #F9AA33\",\n      borderBottom: \"12px solid transparent\",\n      borderTop: \"12px solid transparent\",\n      transform: \"translate(-50%, -50%)\"\n    }\n  },\n  additionalLink: {\n    color: \"#000000\",\n    textDecoration: \"none\",\n    cursor: \"pointer\",\n    margin: \"5px 0\"\n  },\n  textField: {\n    width: \"100%\",\n    margin: \"5px 0\"\n  },\n  errorMessage: {\n    color: \"#d62020\"\n  }\n}));\n\nconst Registration = props => {\n  const classes = useStyles();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const renderErrorMessage = errorMessage ? (\n    <FormHelperText className={classes.errorMessage} margin=\"center\">\n      {errorMessage}\n    </FormHelperText>\n  ) : null;\n\n  const onSubmit = async values => {\n    fire\n      .auth()\n      .createUserWithEmailAndPassword(values.email, values.password)\n      .then(user => {\n        localStorage.setItem(\"id\", user.uid);\n        let currentUser = fire.auth().currentUser;\n        currentUser.updateProfile({\n          displayName: values.userName\n        });\n      })\n      .then(() => {\n        props.history.push(\"/\");\n      })\n      .catch(error => setErrorMessage(error.message));\n  };\n\n  return (\n    <div className={classes.background}>\n      <Paper className={classes.paper}>\n        <div className={classes.container}>\n          <Avatar className={classes.avatar}>\n            <img src={logo} alt=\"logo\" />\n          </Avatar>\n          <Form\n            onSubmit={onSubmit}\n            validate={values => {\n              const errors = {};\n              if (!values.confirm) {\n                errors.confirm = \"Password is required\";\n              } else if (values.confirm !== values.password) {\n                errors.confirm = \"Password's must match\";\n              }\n              return errors;\n            }}\n            render={({ handleSubmit }) => (\n              <form onSubmit={handleSubmit} className={classes.form}>\n                <CustomField\n                  validation={validateUserName}\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  label=\"Username\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"username\"\n                />\n                <CustomField\n                  validation={validateEmail}\n                  type=\"text\"\n                  placeholder=\"E-mail\"\n                  label=\"E-mail\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"email\"\n                />\n                <CustomField\n                  validation={validatePassword}\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  label=\"Password\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"password\"\n                />\n                <CustomField\n                  validation={validatePassword}\n                  type=\"password\"\n                  placeholder=\"Confirm password\"\n                  label=\"Confirm password\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"confirm\"\n                />\n                <div className=\"buttons\">\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    className={classes.submit}\n                    fullWidth\n                  >\n                    <Icon className={classes.buttonIcon}>exit_to_app</Icon>\n                    <div>Sign up</div>\n                  </Button>\n                  {renderErrorMessage}\n                </div>\n              </form>\n            )}\n          />\n          <div>\n            <Link to=\"/login\" className={classes.additionalLink}>\n              You have an account? Let's login.\n            </Link>\n          </div>\n        </div>\n      </Paper>\n    </div>\n  );\n};\n\nexport default withRouter(Registration);\n"]},"metadata":{},"sourceType":"module"}