{"ast":null,"code":"import * as actionTypes from \"../../actions/actionTypes/lists\";\nimport { switchMap, mergeMap } from \"rxjs/operators\";\nimport { ofType } from \"redux-observable\";\nimport { ajax } from \"rxjs/ajax\";\nimport { getList, saveList } from \"../../actions/actions/lists\";\nexport const params = (url, method, action) => ({\n  url: url,\n  method: method,\n  body: JSON.stringify(action)\n});\nexport const getListsEpic = action$ => {\n  return action$.pipe(ofType(actionTypes.GET_LISTS_START), switchMap(action => ajax(\"https://reminder-app-548d7.firebaseio.com/\".concat(action.payload, \"/lists.json\")).pipe(mergeMap(data => [saveList(data.response)]))));\n};\nexport const addListEpic = action$ => {\n  return action$.pipe(ofType(actionTypes.ADD_LIST), switchMap(action => ajax(params(\"https://reminder-app-548d7.firebaseio.com/\".concat(action.payload.userId, \"/lists.json\"), \"POST\", action.payload.body)).pipe(mergeMap(() => [getList(action.payload.userId)]))));\n};\nexport const deleteListEpic = action$ => {\n  return action$.pipe(ofType(actionTypes.DELETE_LIST), switchMap(action => ajax(params(\"https://reminder-app-548d7.firebaseio.com/\".concat(action.payload.userId, \"/lists/\").concat(action.payload.listId, \".json\"), \"DELETE\")).pipe(mergeMap(() => [getList(action.payload.userId)]))));\n};\nexport const editListEpic = action$ => {\n  return action$.pipe(ofType(actionTypes.EDIT_LIST), switchMap(action => ajax(params(\"https://reminder-app-548d7.firebaseio.com/\".concat(action.payload.userId, \"/lists/\").concat(action.payload.listId, \".json\"), \"PATCH\", action.payload.body)).pipe(mergeMap(() => [getList(action.payload.userId)]))));\n};\nexport const updateListEpic = action$ => {\n  return action$.pipe(ofType(actionTypes.UPDATE_LIST), switchMap(action => ajax(params(\"https://reminder-app-548d7.firebaseio.com/\".concat(action.payload.userId, \"/lists.json\"), \"PUT\", action.payload.body)).pipe(mergeMap(() => [getList(action.payload.userId)]))));\n};","map":{"version":3,"sources":["/Users/andreja/Desktop/Projekti/Reminders/src/store/epics/epics/lists.js"],"names":["actionTypes","switchMap","mergeMap","ofType","ajax","getList","saveList","params","url","method","action","body","JSON","stringify","getListsEpic","action$","pipe","GET_LISTS_START","payload","data","response","addListEpic","ADD_LIST","userId","deleteListEpic","DELETE_LIST","listId","editListEpic","EDIT_LIST","updateListEpic","UPDATE_LIST"],"mappings":"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","sourcesContent":["import * as actionTypes from \"../../actions/actionTypes/lists\";\nimport { switchMap, mergeMap } from \"rxjs/operators\";\nimport { ofType } from \"redux-observable\";\nimport { ajax } from \"rxjs/ajax\";\nimport { getList, saveList } from \"../../actions/actions/lists\";\n\nexport const params = (url, method, action) => ({\n  url: url,\n  method: method,\n  body: JSON.stringify(action)\n});\n\nexport const getListsEpic = action$ => {\n  return action$.pipe(\n    ofType(actionTypes.GET_LISTS_START),\n    switchMap(action =>\n      ajax(\n        `https://reminder-app-548d7.firebaseio.com/${action.payload}/lists.json`\n      ).pipe(mergeMap(data => [saveList(data.response)]))\n    )\n  );\n};\n\nexport const addListEpic = action$ => {\n  return action$.pipe(\n    ofType(actionTypes.ADD_LIST),\n    switchMap(action =>\n      ajax(\n        params(\n          `https://reminder-app-548d7.firebaseio.com/${action.payload.userId}/lists.json`,\n          \"POST\",\n          action.payload.body\n        )\n      ).pipe(mergeMap(() => [getList(action.payload.userId)]))\n    )\n  );\n};\n\nexport const deleteListEpic = action$ => {\n  return action$.pipe(\n    ofType(actionTypes.DELETE_LIST),\n    switchMap(action =>\n      ajax(\n        params(\n          `https://reminder-app-548d7.firebaseio.com/${action.payload.userId}/lists/${action.payload.listId}.json`,\n          \"DELETE\"\n        )\n      ).pipe(mergeMap(() => [getList(action.payload.userId)]))\n    )\n  );\n};\n\nexport const editListEpic = action$ => {\n  return action$.pipe(\n    ofType(actionTypes.EDIT_LIST),\n    switchMap(action =>\n      ajax(\n        params(\n          `https://reminder-app-548d7.firebaseio.com/${action.payload.userId}/lists/${action.payload.listId}.json`,\n          \"PATCH\",\n          action.payload.body\n        )\n      ).pipe(mergeMap(() => [getList(action.payload.userId)]))\n    )\n  );\n};\n\nexport const updateListEpic = action$ => {\n  return action$.pipe(\n    ofType(actionTypes.UPDATE_LIST),\n    switchMap(action =>\n      ajax(\n        params(\n          `https://reminder-app-548d7.firebaseio.com/${action.payload.userId}/lists.json`,\n          \"PUT\",\n          action.payload.body\n        )\n      ).pipe(mergeMap(() => [getList(action.payload.userId)]))\n    )\n  );\n};\n"]},"metadata":{},"sourceType":"module"}